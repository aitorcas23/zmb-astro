---
export interface Slide {
	title: string;
	image: string;
	alt: string;
	link: string;
	linkText: string;
	description?: string;
}

interface Props {
	slides: Slide[];
}

const { slides } = Astro.props;
---

<div
	id="default-carousel"
	class="relative w-full"
	data-carousel="slide"
	data-carousel-interval="5000"
>
	<!-- Carousel wrapper -->
	<div class="relative h-56 overflow-hidden rounded-lg md:h-96">
		<!-- Items -->
		{
			slides.map((slide, i) => (
				<div
					class="hidden duration-700 ease-in-out"
					data-carousel-item
					id={`carousel-item-${i + 1}`}
				>
					<div class="relative">
						<div class="absolute left-4 top-4 max-w-[75%] bg-black/30 p-2 pb-3 sm:p-4 sm:pb-5 lg:p-6 lg:pb-7 xl:p-8 xl:pb-9">
							<h2 class="text-2xl font-semibold uppercase text-white sm:text-3xl md:text-4xl md:font-bold">
								{slide.title}
							</h2>
							{slide.description && (
								<p class="text-xs text-gray-200 sm:text-sm md:text-base xl:text-xl">
									{slide.description}
								</p>
							)}
							<p class="mt-4 text-sm md:text-base">
								<a
									href={slide.link}
									class="transition-color rounded-lg border-2 border-white px-2 py-1 text-center text-xs font-medium text-white duration-150 ease-out hover:bg-white hover:text-gray-900 focus:outline-none focus:ring-4 focus:ring-gray-300 sm:text-sm md:px-4 md:py-2 xl:text-lg"
								>
									{slide.linkText}
								</a>
							</p>
						</div>
						<img
							src={slide.image}
							alt={slide.alt}
							class="aspect-video h-full w-full select-none object-cover object-center md:aspect-[21/9]"
							draggable="false"
						/>
					</div>
				</div>
			))
		}
	</div>
	<!-- Slider indicators -->
	<div class="absolute bottom-5 left-1/2 z-30 flex -translate-x-1/2 space-x-3 rtl:space-x-reverse">
		{
			slides.map((_, i) => (
				<button
					type="button"
					class="h-3 w-3 rounded-full"
					aria-current="true"
					aria-label={`Slide ${i + 1}`}
					data-carousel-slide-to={i + 1}
				/>
			))
		}
	</div>
	<!-- Slider controls -->
	<button
		type="button"
		class="group absolute start-0 top-0 z-30 flex h-full cursor-pointer items-center justify-center px-4 focus:outline-none"
		data-carousel-prev
	>
		<span
			class="inline-flex h-10 w-10 items-center justify-center rounded-full bg-white/30 group-hover:bg-white/50 group-focus:outline-none group-focus:ring-4 group-focus:ring-white dark:bg-gray-800/30 dark:group-hover:bg-gray-800/60 dark:group-focus:ring-gray-800/70"
		>
			<svg
				class="h-4 w-4 text-white rtl:rotate-180 dark:text-gray-800"
				aria-hidden="true"
				xmlns="http://www.w3.org/2000/svg"
				fill="none"
				viewBox="0 0 6 10"
			>
				<path
					stroke="currentColor"
					stroke-linecap="round"
					stroke-linejoin="round"
					stroke-width="2"
					d="M5 1 1 5l4 4"></path>
			</svg>
			<span class="sr-only">Previous</span>
		</span>
	</button>
	<button
		type="button"
		class="group absolute end-0 top-0 z-30 flex h-full cursor-pointer items-center justify-center px-4 focus:outline-none"
		data-carousel-next
	>
		<span
			class="inline-flex h-10 w-10 items-center justify-center rounded-full bg-white/30 group-hover:bg-white/50 group-focus:outline-none group-focus:ring-4 group-focus:ring-white dark:bg-gray-800/30 dark:group-hover:bg-gray-800/60 dark:group-focus:ring-gray-800/70"
		>
			<svg
				class="h-4 w-4 text-white rtl:rotate-180 dark:text-gray-800"
				aria-hidden="true"
				xmlns="http://www.w3.org/2000/svg"
				fill="none"
				viewBox="0 0 6 10"
			>
				<path
					stroke="currentColor"
					stroke-linecap="round"
					stroke-linejoin="round"
					stroke-width="2"
					d="m1 9 4-4-4-4"></path>
			</svg>
			<span class="sr-only">Next</span>
		</span>
	</button>
</div>
